<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>SimuNik – 3D VRML Viewer</title>

  <!-- Tailwind CDN – OK for development -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ✅ NEW: working X_ITE CDN -->
  <script defer src="https://cdn.jsdelivr.net/npm/x_ite@11.5.11/dist/x_ite.min.js"></script>

  <!-- Silence the favicon 404 -->
  <link rel="icon" href="data:,">
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen gap-4">

  <h1 class="text-3xl font-bold">SimuNik – VRML Reactor Model</h1>
  <div id="msg" class="text-lime-400"></div>
  <div id="x3dHost" class="w-[90vw] max-w-[1000px] h-[70vh] border-2 border-gray-700 rounded-lg overflow-hidden"></div>

  <script>
    function flash(txt, ms = 5000) {
      const m = document.getElementById('msg');
      m.textContent = txt;
      if (ms) setTimeout(() => m.textContent = '', ms);
    }

    window.addEventListener('load', () => {
      flash('Initializing viewer…');

      const canvas = document.createElement('x3d-canvas');
      canvas.id = 'vrmlViewer';
      canvas.setAttribute('src', 'https://raw.githubusercontent.com/Melmas657/ASimVR/main/model.wrl');
      canvas.setAttribute('antialias', 'true');
      canvas.setAttribute('showLog', 'false');
      canvas.style.width = '100%';
      canvas.style.height = '100%';

      document.getElementById('x3dHost').appendChild(canvas);

      canvas.addEventListener('load', () =>
        flash('✅ Model loaded – use mouse to explore!', 7000));

      canvas.addEventListener('error', e => {
        console.error('X_ITE load error', e);
        flash('❌ Could not load model.wrl – check URL or VRML syntax.', 8000);
      });
    });
  </script>
</body>
</html>
